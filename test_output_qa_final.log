
> asset-manager-gas@1.0.0 test
> jest

FAIL tests/qa.test.js
  ??Console

    console.log
      Loading GAS files...

      at Object.log (tests/setup.js:99:9)

    console.log
      [GAS Log] Action Error: TypeError: Cannot read properties of undefined (reading '0')

      at Object.log (tests/setup.js:61:43)

    console.log
      QA Warning: expect(received).toBe(expected) // Object.is equality
      
      Expected: true
      Received: false

      at Object.log (tests/qa.test.js:81:21)

  ??QA Integration Scenarios ??End-to-End: Buy Stock -> Check Inventory

    expect(received).toBe(expected) // Object.is equality

    Expected: 10
    Received: undefined

      93 |         const data = JSON.parse(json);
      94 |
    > 95 |         expect(data.inventory['AAPL']).toBe(10);
         |                                        ^
      96 |         // Expect holding valTWD > 0 (assuming mock FX is set or defaults)
      97 |         // marketData uses hardcoded 32.5 if not found, or mocks.
      98 |         // We just verify it exists.

      at Object.toBe (tests/qa.test.js:95:40)

PASS tests/logic.test.js
  ??Console

    console.log
      Loading GAS files...

      at Object.log (tests/setup.js:99:9)

PASS tests/repository.test.js
  ??Console

    console.log
      Loading GAS files...

      at Object.log (tests/setup.js:99:9)


Test Suites: 1 failed, 2 passed, 3 total
Tests:       1 failed, 10 passed, 11 total
Snapshots:   0 total
Time:        0.595 s, estimated 1 s
Ran all test suites.
